create database 'studydb'
character set utf8
collate utf8_general_ci;

# eomcs-web-project


jar의 범위를 지정할 수 있다
  // 컴파일할때만
  compileOnly 'javax.servlet:javax.servlet-api:4.0.1'

  // 컴파일, 배포
  implementation 'com.google.guava:guava:28.1-jre'

  // 컴파일, 단위테스트
  testImplementation 'junit:junit:4.12'

  gradle build만 했는데 war 생김



만약 publish 햇는데 배포가 안됐다
remove 하고 publish 하고 직접 들어가보면


느낌표가 뜨면 배포가 안된다
느낌표는 이클립스 설정이 잘못된것
정상적인 자바 프로젝트로 인식을 못하는것
이클립스 설정파일 새로 만들어야
gradle cleanEclipse
gradle eclipse
그런데도 느낌표가 안없어지면
폴더로 직접가서 .class .settings .gradle .project bin build 등 자동으로 생성되는거 완벽하게 삭제
gradle eclipse
리프레시
느낌표 없어짐

jdk가 깨질경우가 아주 가끔잇음
백신프로그램때문에일듯

- - -

# 
셋 모두
Servlet 인터페이스를 구현해야되는데
MyServlet은 5개 메서드 전부 구현할 필요없어서
Generic Service 자바에서 만듬
근데 얘는 http 를 못다룸
그래서 또 얘를 상속하는 HttpServlet을 만듬

- - -

## MIMETYPE 실수하면 다운로드 화면이 뜸

```java
// 클라이언트로 출력하기 - 바이너리 데이터 출력하기
@WebServlet("/ex03/s4")
public class Servlet04 extends GenericServlet {

  private static final long serialVersionUID = 1L;

  @Override
  public void service(ServletRequest req, ServletResponse res)
      throws ServletException, IOException {

    // /webapp/photo.jpeg 파일의 실제 경로 알아내기
    // 1) 서블릿의 환경 정보를 다루는 객체를 먼저 얻는다.
    ServletContext ctx = req.getServletContext();

    // 2) ServletContext를 통해 웹 자원의 실제 경로를 알아낸다.
    // => getRealPath(현재 웹 애플리케이션의 파일 경로) : 실제 전체 경로를 리턴한다.
    String path = ctx.getRealPath("/photo.jpeg");
    System.out.println(path);

    FileInputStream in = new FileInputStream(path);

    // 바이너리를 출력할 때 MIME 타입을 지정해야 웹 브라우저가 제대로 출력할 수 있다.
    // => 웹 브라우저가 모르는 형식을 지정하면 웹 브라우저는 처리하지 못하기 때문에
    // 그냥 다운로드 대화상자를 띄운다.
    res.setContentType("image/ohora");
    // MIMETYPE 실수하면 다운로드 화면이 뜸

    BufferedOutputStream out = new BufferedOutputStream(res.getOutputStream());
    //속도빨라짐: inputStream에도 장착해도됨
    int b;
    while ((b = in.read()) != -1) { // 1바이트씩읽어서
      out.write(b);
    }

    out.flush(); // 버퍼 데코레이터에 보관된 데이터를 클라이언트로 방출한다.
    out.close();
    in.close();
  }
}
```

// <pre> : 자동으로 정렬하지말고 그냥 그대로 출력하라

- - -

# 
src/webapp/index.html 추가

 id application 삭제

 application{} 삭제


