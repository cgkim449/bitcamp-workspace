지난 시간: pms 28-a,b
1 메서드를 클래스로 다 쪼갬
2 Map을 이용하니까 if 문이 확 쭐음
명령어를 key
명령어를 처리할 객체를 map?

커맨드 규칙에 따라서 메서드를 호출
인터페이스란 객체 사용 규칙을 정의

네트워크 통신에서도 똑같이 사용되는 용어
: client : client가  명령처리를 수행하는 객체를 사용할때
사용 규칙이 없으면(메서드 호출 규칙 : 메서드 시그너처 통일?) 힘듬
그 사용 규칙을 interface라고 함
interface를 만나면 client와 사용 객체 빨리 파악하는게 중요

(servlet이라는 인터페이스를 나중에 웹어플리케이션 프로그램 짤때 만난다
인터페이스가 있으면 인터페이스 규칙에 따라서 호출하는 client를 짜는건지
사용 객체를 짜는건지 빨리 파악하자
이때 client는 Tomcat Server이고 사용 객체를 짜는것이 우리가 할일)
--------------------------
pms 29 : 예외 발생했을때 시스템을 멈추지 않게 하고 싶다
numberFormatException : 
어느부분에서 예외가 발생했는지 빨리 파악하자
숫자를 입력해야되는데 문자열을 입력했다
/board/add okok
그래서 예외가 발생하면서 시스템이 멈춤
예외가 comman.execute();에서 발생
예외가 발생하는 코드를 try{}안에 두자
try{} catch(Exception e){
sysout("명령처리중 오류 발생 : %s %s",e.getClass().getName(),e.getMessage())}
1 java.lang.NumbrFormatException : 클래스이름
2 for input string : "okok" 뭐땜에 발생했는지

직접해보자
/board/add
okok하면 예외가 발생해서 시스템이 멈춘다
그럼 어디서 예외가 발생했는지 파악해야한다
command.execute()에서 예외가 발생한다
그럼
try {예외가 발생하는 코드를 넣음} catch (Exception e) {
sysout("명령처리중 오류 발생 : $s %s", e.getClass().getName(),
e.getMessage())}
하고나서 또 예외 발생시켜보면(okok)
클래스이름(java.lang.NumberFormatException)과
뭐땜에 예외가 발생했는지(for input string : "okok")가 나온다

중요한건 예외가 발생한 코드가 무엇인지 빨리 파악 

-----------------------------------
보통 예외가 발생하면 음수를 리턴하도록했고
정상 리턴값이 양수,음수면 잘 안나오는 음수값을 리턴해줬음
----------------------

석사(산업대학원) + 경력직 -> 공사(심사평가원, 수자원공사 등)

----------------------------------------------
pms - 30
데이터를 파일로 저장하자
지금까지 컬렉션 객체 즉, ram에 저장되있어서 프로그램 종료하면 데이터 지워짐(ram : cpu가 직접 접근함)
그래서 외부저장장치에 저장해야한다(cpu가 직접 접근하지 않는것)
즉 데이터를 파일로 출력해야한다?
multi-purpose internet mail extension(확장) (MIME) : 처음에 만들때 mail때문에 만듬
: 데이터(형식)포맷을 가리킬때 쓰는 국제 표준 방식
MIME type list 검색
한쪽에서 한쪽으로 메일 보낼때 메일이 어떤형식으로 작성되있는지 알려주기위해서

comma seperated value(csv)
1,aaa,aaa@test.com,1111,111 <= record
2,bbb, .... 
--

main 메서드 끝에
saveBoards();//프로그램을 종료하기전에 List에 보관된 객체를 파일에 저장한다
// 게시글들을 저장하라

public static void saveBoards() { //main이 static 메서드라서 instance멤버에 접근못함
sysout("[게시글 저장]");

// 데이터를 저장할 파일의 정보
File file = new File("./board/csv"); // 생성자를 보니까 경로를 적어라 : "./board.csv"
// 현재 폴더(.)은 프로젝트 폴더(bitcamp-java-project)를 가리킨다


// 데이터를 파일에 출력할 때 사용할 도구
FileWriter out = new FileWriter(file); // 생성자를 보니까, file정보를 넘겨야한다
// IOException(input ouput)
}
--
write(int)
//int값을 출력하는게 아님 
//int 값주면 맨끝에 1byte만 출력
--
board.csv 를 open with > text 하면 아무거도 출력이 안되네?
close를 안했다
out.close(); // 출력도구를 닫아야됨
//사용이 끝난 파일 출력 도구를 닫는다
//=>이과정에서 파일 출력 도구의 임시 메모리(버퍼)에 잔류하는 찌꺼기 데이터를 마무리로 완전히 출력한다
이제 다시 열어보면 출력되있다
근데 우리가 원하는 건 csv형식이다
번호,제목,내용,작성자,작성일,조회수 CRLF이렇게 되야한다
그래서 String.format 쓴다
String record = String.format("",);

exit하면 saveboards가 호출되고
csv파일열어보자

finally만들어서 out.close를 finally로 옮기자
그럼 out을 못찾으니까 out을 try문 바깥으로 뽑자
근데 close 자체도 exception이 발생할수잇다
try catch로 묶어주자
근데 close()에서 오류가 발생할때 마땅히 할게없다
그래서 그냥 무시한다
현업에선 try-with-resources 잘 안쓴다

파일을 저장만 하면 뭐해
읽어야지
프로그램을 시작할때, 즉 main 맨 앞줄에
// 파일에서 데이터를 읽어 List에 저장한다
loadBoards();

static void loadBoards() {// 굳이 퍼블릭 아니어도됨
sysout("[게시글 파일 로딩!"])

saveBoards 몸체 전부 복사 붙여넣기

// 데이터를 읽어 올 파일의 정보
// 파일에서 데이터를 읽을때 사용할 도구
FileReader // 이때 우리가 한줄씩 읽어야되니까 Scanner하나 추가하자
scanner = new Scanner(out); // java.util // 파일로부터 한줄씩 읽을 수 있다
그럼 반복문 돌려야겟지
nextLine()// 더이상 읽을 라인이 없으면 no such element exceptioin?
}

-- while (true) {

try {} catch // 더이상읽을게 없는 예외발생 하면 break로 while 나가자
//illegal 머시기는 신경 ㄴㄴ
-------------------------------------------------
오늘은 여기까지
궁금하면 mini-pms
}